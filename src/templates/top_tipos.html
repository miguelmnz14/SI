<!DOCTYPE html>
<html>
<head>
    <title>Top Tipos de Incidencias</title>
</head>
<body>
    <h1>Top {{ top_x }} Tipos de Incidencias con Mayor Tiempo de Resolución</h1>

    <form method="GET" action="/top_tipos_incidencias">
        <label for="x">Mostrar top:</label>
        <input type="number" id="x" name="x" min="1" value="{{ top_x }}">
        <button type="submit">Actualizar</button>
    </form>

    <table border="1">
        <tr>
            <th>Posición</th>
            <th>Tipo de Incidencia</th>
            <th>Tiempo Total de Resolución (horas)</th>
        </tr>
        {% for tipo in top_tipos %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ tipo['tipo_incidencia'] }}</td>
            <td>{{ "%.2f"|format(tipo['tiempo_total_resolucion']) }}</td>
        </tr>
        {% endfor %}
    </table>

    <a href="/">Volver al inicio</a>
</body>
</html>